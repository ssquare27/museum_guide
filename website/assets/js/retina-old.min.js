!function(){function t(t){this.path=t;var e=this.path.split("."),s=e.slice(0,e.length-1).join("."),i=e[e.length-1];this.at_2x_path=s+"@2x."+i}function e(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var s=this;this.path.check_2x_variant(function(t){t&&s.swap()})}var s="undefined"==typeof exports?window:exports;s.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var s,i=this;return this.is_external()?e(!1):this.at_2x_path in t.confirmed_paths?e(!0):(s=new XMLHttpRequest,s.open("HEAD",this.at_2x_path),s.onreadystatechange=function(){return 4!=s.readyState?e(!1):s.status>=200&&s.status<=399?(t.confirmed_paths.push(i.at_2x_path),e(!0)):e(!1)},s.send(),void 0)},s.RetinaImage=e,e.prototype.swap=function(t){function e(){s.el.complete?(s.el.setAttribute("width",s.el.offsetWidth),s.el.setAttribute("height",s.el.offsetHeight),s.el.setAttribute("src",t)):setTimeout(e,5)}"undefined"==typeof t&&(t=this.path.at_2x_path);var s=this;e()},s.devicePixelRatio>1&&(window.onload=function(){var t,s,i=document.getElementsByTagName("img"),a=[];for(t=0;t<i.length;t++)s=i[t],a.push(new e(s))})}();